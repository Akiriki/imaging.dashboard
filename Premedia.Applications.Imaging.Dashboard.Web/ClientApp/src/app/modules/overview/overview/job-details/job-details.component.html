<!--<h3 class="headings">Job Details - ID: {{ jobID }}</h3>-->

<div class="container">
  <div class="row">
    <div class="col-md-12 mt-4">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title headings">Bearbeiter</h5>
          <div class="d-flex justify-content-end">
            <button ejs-button (click)="saveChanges()" [disabled]="!unsavedChanges">Bearbeitung abschließen</button>
          </div>
          <br>
          <!-- Hier kommen die Details des Bearbeiters -->
          <div class="container">
            <div class="row">
              <div class="col-md-6">
                <div class="card h-100">
                  <div class="card-body">
                    <h6 class="card-title">Typ:</h6>
                    <p class="card-text">Aufgabe</p>
                    <h6 class="card-title">Kunde:</h6>
                    <p class="card-text">{{jobdetailsFilesList[0].status}}</p>
                    <h6 class="card-title">Auftraggeber:</h6>
                    <p class="card-text">asd</p>
                    <h6 class="card-title">Projekt:</h6>
                    <p class="card-text">Testprojekt</p>
                    <h6 class="card-title">ERP-Nr.:</h6>
                    <p class="card-text" contenteditable="true" (focus)="toggleEditingMode(true)" (input)="onInput($event)">P092528</p>
                    <h6 class="card-title">Verrechnungsoption:</h6>
                    <p class="card-text">Auf Job buchen</p>
                    <h6 class="card-title">Beschreibung:</h6>
                    <p class="card-text" contenteditable="true" (focus)="toggleEditingMode(true)" (input)="onInput($event)">/</p>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="card h-100">
                  <div class="card-body">
                    <h6 class="card-title">Bearbeiter:</h6>
                    <p class="card-text">Katharina Rauch</p>
                    <h6 class="card-title">Erstellt am:</h6>
                    <p class="card-text">20.04.2022 11:42</p>
                    <h6 class="card-title">Fällig bis:</h6>
                    <p class="card-text" contenteditable="true" (focus)="toggleEditingMode(true)" (input)="onInput($event)">21.04.2022</p>
                    <h6 class="card-title">Status:</h6>
                    <p class="card-text">In Bearbeitung</p>
                    <br>
                    <br>
                    <div class="card-text text-center">
                      <button ejs-button [disabled]="editingMode">Zeitbuchungen: 6m</button><br> <br>
                      <button ejs-button [disabled]="editingMode">Retusche buchen</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12 mt-4">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title headings">Job-Files</h5>

          <!-- TO-DO BACKEND -->

          <ejs-grid #grid [dataSource]='jobdetailsFilesList' [allowPaging]="true" [pageSettings]='pageSettings' [allowSorting]="true" [allowFiltering]="true">
            <e-columns>
              <e-column field='id' headerText='ID' [visible]="false"></e-column>
              <e-column field='consecutiveNumber' headerText='Nr.' width="100" [textAlign]="'center'" [allowFiltering]="false"></e-column>
              <e-column field='error' headerText='Fehler'></e-column>
              <e-column field='originalFileName' headerText='Orignialer Dateiname'></e-column>
              <e-column field='editedFileName' headerText='editedFileName'></e-column>
              <e-column field='action' headerText='Aktion'></e-column>
              <e-column field='storageLocation' headerText='Ablageort'></e-column>
              <e-column field='filingPath' headerText='Ablagepfad'></e-column>
              <e-column field='activity' headerText='Aktivität'></e-column>
              <e-column field='status' headerText='Status'></e-column>
              <e-column [textAlign]="'center'" [allowFiltering]="false" [allowSorting]="false">
                <ng-template #template let-data>
                  <button style="width: 30px; font-size: 10px;" ejs-button>v</button>
                </ng-template>
              </e-column>
            </e-columns>

          </ejs-grid>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12 mt-4">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title headings">History</h5>

          <!-- TO-DO BACKEND -->

          <ejs-grid [dataSource]="jobdetailsHistoryList" [allowPaging]="true" [pageSettings]="pageSettings" [allowSorting]="true" [allowFiltering]="true" (detailDataBound)="detailDataBound($event)">
            <e-columns>
              <e-column field="id" headerText="ID" [visible]="false"></e-column>
              <e-column field="deliveryDate" headerText="Datum und Uhrzeit" [format]="'dd.MM.yyyy hh:mm'"></e-column>
              <e-column field="title" headerText="Titel"></e-column>
              <e-column field="editor" headerText="Bearbeiter" [width]="200"></e-column>
            </e-columns>
              <ng-template #detailTemplate let-data>
                <div class = 'custom-grid'></div>
            </ng-template>
          </ejs-grid>

        </div>
      </div>
    </div>
  </div>
</div>

<br>
